//Цвета
$color-title-block-link : lib-color(accent-base-bright);
//-------------------------------

//Классы
$wrapper : lib-get-class('tile');
$tile-block : lib-get-class('tile-block');
$offer : lib-get-class('offer');
$description : lib-get-class('offer-description');
$title : lib-get-class('offer-title');
$old-price : lib-get-class('offer-old-price');
$price : lib-get-class('offer-price');
$button : lib-get-class('offer-button');
$list : lib-get-class('list');
$link : lib-get-class('link');
$img : lib-get-class('link-img');
$preview : lib-get-class('preview');
$detail : lib-get-class('detail');
$block : lib-get-class('block');
//-------------------------------

#{$wrapper} {
	padding       : 5px;
	max-width     : 820px;

	border-radius : 5px;
	background    : url('../../../../img/bg_5.jpg');
	&_title {
		padding-top    : lib-line-top(0);
		padding-bottom : lib-line-top(0);
		padding-left   : 4px;
	}
	&_list#{$list} {

		@extend %lib-clearfix;
		#{$list}_item {
			padding : 5px;

			@include lib-box12(3);

			@at-root {
				#{$tile-block} {
					position      : relative;
					width         : 100%;
					margin-bottom : 50px;

					@include lib-responsive-ratio();
					#{$tile-block}_img#{$block} {
						position   : absolute;
						top        : 0;
						left       : 0;
						padding    : 10px;
						height     : 100%;
						width      : 100%;

						text-align : center;
						&:after,
						&:before {
							content        : '';
							display        : inline-block;
							height         : 100%;

							vertical-align : middle;
						}
						&:after {
							margin-left : -5px;
						}
						&:before {
							margin-right : -5px;
						}
						#{$block}_element {
							max-height     : 100%;

							vertical-align : middle;
						}
					}
					#{$tile-block}_title#{$block} {
						position   : absolute;
						bottom     : -40px;
						padding    : 0 10px;
						width      : 100%;
						height     : 50px;

						text-align : center;
						#{$block}_element {
							color     : $color-title-block-link;
							font-size : lib-font-size(1);
						}
					}
				}
			}

			@at-root #{$wrapper}_list#{$list} {
				#{$list}_offer#{$offer} {
					padding : 10px 10px 62px 10px;
					#{$offer}_preview#{$preview} {
						position : relative;

						@at-root #{$wrapper}_list#{$list} #{$list}_offer#{$offer} {
							#{$preview}_link#{$img} {
								@include lib-link-img-param(
										$height : 180px,
										$vertical-align : top
								);
							}
						}

					}
					#{$description} {
						position : relative;
						z-index  : 1;
						&_container {
							height   : auto;
							overflow : visible;

							@at-root #{$wrapper}_list#{$list} #{$list}_offer#{$offer} {
								#{$title}#{$block} {
									position     : relative;
									margin-top   : -45px;
									padding-left : 0;
									height       : 45px;

									overflow     : hidden;
									text-align   : center;
									background   : linear-gradient(to bottom, rgba(255, 255, 255, 0.0), rgba(255, 255, 255, 0.9), #ffffff, #ffffff);

									@include lib-text-blackout(
											$height : 50%,
											$width : 12px
									);
									#{$block}_element#{$link} {
										padding-top : 5px;
										height      : 100%;
										max-width   : 100%;
									}
								}
							}

						}

						@at-root #{$wrapper}_list#{$list} #{$list}_offer#{$offer} {
							#{$old-price}#{$detail} {
								margin-top : 2px;

								font-size  : lib-font-size(-1);
								text-align : center;
							}

							#{$price} {
								right  : auto;
								bottom : -40px;
							}

							#{$button}#{$block} {
								right  : 0;
								bottom : -45px;
							}
						}

					}
				}
			}
		}
	}
	&_more#{$block} {
		margin-top     : 20px;
		padding-bottom : 15px;
		width          : 100%;

		text-align     : center;
	}
}